{"name":"Pharborist","tagline":"A PHP library to query and transform source code via tree operations.","body":"pharborist\r\n==========\r\n\r\n![Pharborist logo](./docs/logo_128px.png \"Pharborist logo\")\r\n\r\nA PHP library to query and transform PHP source code via tree operations.\r\n\r\n# Roadmap\r\n* Tests with 100% code coverage\r\n* Integration with a third party library (suggestions welcomed) for extracting PHPDoc comments\r\n* API to ease querying and transforming of the syntax tree\r\n* Build a PHP source code formatter using the library\r\n* Build a PHP code check using the library\r\n\r\nBelow is an example of how the API might look once its more developed:\r\n\r\n```php\r\n// Add use declaration if it does not already exist. Use UtilityString alias if conflict\r\n$alias = $tree->ensureUseDeclaration('Drupal\\Component\\Utility\\String', 'UtilityString');\r\n// Find all calls to check_plain and rename them to use String::checkPlain\r\n$function_calls = $tree->find(Filter::functionCall('check_plain'));\r\nforeach ($function_calls as $call) {\r\n  $class_method_call = ClassMethodCallNode::create($alias, 'check_plain', $call->getArgumentList());\r\n  $call->replaceWith($class_method_call);\r\n}\r\n```\r\n\r\n# Usage\r\n```php\r\nrequire_once 'vendor/autoload.php';\r\n\r\nuse Pharborist\\Parser;\r\nuse Pharborist\\Namespaces\\NamespaceNode;\r\nuse Pharborist\\Filter;\r\n\r\n$tree = Parser::parseFile($filename);\r\n\r\n// check there only one namespace declaration\r\n$namespaces = $tree->children(Filter::isInstanceOf('\\Pharborist\\Namespaces\\NamespaceNode'));\r\nif ($namespaces->count() > 1) {\r\n  die('More then one namespace at line ' . $namespaces[1]->getSourcePosition()->getLineNumber() . PHP_EOL);\r\n}\r\n```\r\n[![Build Status](https://travis-ci.org/grom358/pharborist.png?branch=master)](https://travis-ci.org/grom358/pharborist)\r\n\r\n# API\r\nPharborist's API is documented at http://www.phenaproxima.net/pharborist. Pharborist\r\nis still under heavy development, so it changes fairly frequently.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}